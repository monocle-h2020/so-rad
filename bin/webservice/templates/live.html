{% extends "layout.html" %}
{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/2.0.0/chartjs-plugin-annotation.min.js"></script>
<script>Chart.register('chartjs-plugin-annotation');</script>
{% endblock %}

{% block content %}
<div>
  <h2>Live status page</h2>
</div>
{% if common['so-rad_status']==true %}
  <div style="color:#ffffff;background-color:#11cc11;font-weight:medium">So-Rad service is running</div>
{% else %}
  <div style="color:#000000;background-color:#ee1111;font-weight:bold">So-Rad service is not running</div>
{% endif %}
<br>


<!-- Redis results -->
<div align="center" margin-left="auto" margin-right="auto">
  <table width=90%>
      <tr>
         <th width=30%>System parameter</th>
         <th width=30%>Value</th>
         <th width=30%>Last update</th>
      </tr>
      <tr>  <th>Counter</th>               <td>{{ redisvals['counter'] }}             </td>  <td>{{ redisvals['counter_updated'] }}      </td>   </tr>
      <tr>  <th>Disk space</th>            <td>{{ redisvals['disk_free_gb'] }} GIB    </td>  <td>{{ redisvals['disk_free_gb_updated'] }} </td>   </tr>
  </table>
</div>


{% endblock %}
